<!DOCTYPE html>
<html>
    <head>
    <title>Videos Volcan de Fuego</title>
    <style>
      table {
        font-family: arial, sans-serif;
        margin-left:auto;
        margin-right:auto;
        padding: 10px;
        width: 30%;
        text-align:center;
            }

            td, th {

        border: 1px solid #dddddd;
        text-align: center;
        padding: 8px;
      }

      centro,h1,h2,h3,label,select,button,div{
        text-align: center;
        padding: 10px;
        margin:10px;
      }
            
      </style>

    <link rel="apple-touch-icon" sizes="180x180" href="favicons/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="favicons/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="favicons/favicon-16x16.png" />
    <link rel="manifest" href="favicons/site.webmanifest" />
    <link rel="mask-icon" href="favicons/safari-pinned-tab.svg" color="#5bbad5" />
    <link rel="shortcut icon" href="favicons/favicon.ico" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="msapplication-config" content="favicons/browserconfig.xml" />
    <meta name="theme-color" content="#ffffff" />
  
    <meta name="viewport" content="width=device-width, initial-scale=1" />
        
    
    <script src="jquery-3.5.1.min.js"> </script>
    <script src="html5-qrcode.min.js"></script>
    <script src="library.js"> </script>
    <script src="Chart.min.js"> </script>

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>    


<script type="text/javascript">
var arreglo = [];
var campos = ["fecha","numfotos","video"];

async function fetchData() {
  var res;
  res = await fetch("https://arcgis-web.url.edu.gt/incyt/api/HashFiles/getVideosVolcanes");
  this.arreglo = await res.json();
  console.log(this.arreglo);
  createTableColumns(this.arreglo,this.campos);
}




function createTableColumns(arreglo, campos) {
  //this.arreglo = arreglo;
  //this.campos = campos;
  console.log("creando columnas con datos de tabla***************");
  this.arreglo = arreglo;
  console.log(arreglo);
  console.log(this.campos);

  var table = document.getElementById("tableInfo");
  var h1 = "\n<tr>\n";
  //for (var i = 0; i < campos.length; i++) {
    //h1 = h1 + " <th>" + campos[i] + "</th> \n";
    h1 = h1 + " <th> Fecha </th> \n";
    h1 = h1 + " <th> Numero de fotos </th> \n";
    h1 = h1 + " <th> Descargar Video </th> \n";
    //}

  h1 = h1 + "\n</tr>\n";
  
  console.log(h1);

  var h2 = "";
  for (var i = 0; i < arreglo.length; i++) {
    h2 = h2 + "<tr>\n";
    
    /*    for (var j = 0; j < campos.length; j++) {
      h2 = h2 + " <td>" + arreglo[i][campos[j]] + "</td>\n";
    }*/
    h2 = h2 + " <td>" + arreglo[i][campos[0]] + "</td>\n";
    h2 = h2 + " <td>" + arreglo[i][campos[1]] + "</td>\n";
    h2 = h2 + ' <td> <a href="' + arreglo[i][campos[2]] + '">' +arreglo[i][campos[2]] +'</a></td>\n';
    
    h2 = h2 + "</tr>\n";
  }
  //console.log(h2);
  var tableTail = ` 
</table>
`;
  //console.log(h2);
  table.innerHTML = h1 + h2 + tableTail;
  console.log("creando columnas con datos de tabla***************");
}


</script>
     
    </head>
    
      <body onload="fetchData()">


    <div id="main fs20 " >
      <h1>Videos Volcan de Fuego</h1>
    
    
    <div id = "resultados"> </div>
    <section>
      <div>
        <table id="tableInfo" class="table table-striped tableInfo"></table>
      </div>
      <div>

      </div>
    </section>
    
  </body>
  </html>


